{"ast":null,"code":"var _jsxFileName = \"/Users/heangzhan/Desktop/se2021_part1/se2021/src/Part1File/FindPasswordPage.jsx\";\nimport React, { useState, Component } from 'react';\nimport { Form, Input, Cascader, Select, Row, Col, Checkbox, Button, AutoComplete, Layout, message } from 'antd';\nimport TopBar from \"../Component/TopBar\";\nimport '../assets/css/FindPasswordForm.css';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Content\n} = Layout;\nconst {\n  Option\n} = Select;\nvar storage = window.localStorage;\nconst defaultUrl = 'http://127.0.0.1:5003';\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 8\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0\n    },\n    sm: {\n      span: 16,\n      offset: 8\n    }\n  }\n};\n\nclass FindPasswordPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getEmail = e => {\n      this.setState({\n        email: e.target.value\n      });\n    };\n\n    this.getUid = e => {\n      this.setState({\n        uid: e.target.value\n      });\n    };\n\n    this.findPasswordPost = () => {\n      if (this.state.uid !== '' && this.state.email !== '') {\n        this.setState({\n          loading: true\n        });\n        let params = {\n          uid: this.state.uid,\n          email: this.state.email\n        };\n        axios({\n          baseURL: defaultUrl,\n          method: 'post',\n          url: '/FindPasswordPage',\n          params\n        }).then(res => {\n          console.log(res.data.msg);\n\n          if (!res.data.code) {\n            // storage['token']=res.data.data.token;\n            storage['user'] = this.state.nickname; // storage['identity']=res.data.data.identity;\n\n            message.success('发送成功!');\n            this.setState({\n              loading: false\n            });\n            window.location.href = \"http://localhost:3000\";\n          } else {\n            message.error('发送失败请重试！');\n            this.setState({\n              loading: false\n            });\n          }\n        });\n      }\n    };\n\n    this.state = {\n      loading: false,\n      email: '',\n      uid: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        className: \"myhead\",\n        style: {\n          position: 'fixed',\n          zIndex: 1,\n          width: '100%'\n        },\n        children: /*#__PURE__*/_jsxDEV(TopBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Content, {\n        className: \"mycontent\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-register\",\n          style: {\n            border: \"solid\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            className: \"register-form\",\n            style: {\n              width: \"100%\"\n            },\n            ...formItemLayout,\n            name: \"findPassword\",\n            initialValues: {\n              residence: ['zhejiang', 'hangzhou', 'xihu'],\n              prefix: '86'\n            },\n            scrollToFirstError: true,\n            children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"uid\",\n              label: \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\",\n              rules: [{\n                required: true,\n                message: '请输入身份证号码!',\n                whitespace: true\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                onChange: e => this.getUid(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              name: \"email\",\n              label: \"\\u90AE\\u7BB1\",\n              rules: [{\n                type: 'email',\n                message: '请输入正确的邮件地址!'\n              }, {\n                required: true,\n                message: '请输入邮件地址!'\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                onChange: e => this.getEmail(e)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...tailFormItemLayout,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                htmlType: \"submit\",\n                onClick: this.findPasswordPost,\n                loading: this.state.loading,\n                children: \"\\u53D1\\u9001\\u90AE\\u4EF6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default FindPasswordPage;","map":{"version":3,"sources":["/Users/heangzhan/Desktop/se2021_part1/se2021/src/Part1File/FindPasswordPage.jsx"],"names":["React","useState","Component","Form","Input","Cascader","Select","Row","Col","Checkbox","Button","AutoComplete","Layout","message","TopBar","axios","Header","Content","Option","storage","window","localStorage","defaultUrl","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","FindPasswordPage","constructor","props","getEmail","e","setState","email","target","value","getUid","uid","findPasswordPost","state","loading","params","baseURL","method","url","then","res","console","log","data","msg","code","nickname","success","location","href","error","render","position","zIndex","width","border","residence","prefix","required","whitespace","type"],"mappings":"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","sourcesContent":["import React, { useState, Component } from 'react';\nimport {Form, Input, Cascader, Select, Row, Col, Checkbox, Button, AutoComplete, Layout, message} from 'antd';\nimport TopBar from \"../Component/TopBar\";\nimport '../assets/css/FindPasswordForm.css';\nimport axios from \"axios\";\nconst {Header, Content} = Layout\nconst { Option } = Select;\n\nvar storage=window.localStorage;\nconst defaultUrl = 'http://127.0.0.1:5003';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nclass FindPasswordPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading:false,\n            email:'',\n            uid:'',\n        }\n    }\n\n    getEmail=(e)=>{\n        this.setState({\n            email:e.target.value\n        })\n    }\n\n    getUid=(e)=>{\n        this.setState({\n            uid:e.target.value\n        })\n    }\n\n    findPasswordPost=()=>{\n        if (this.state.uid !== '' && this.state.email !== '') {\n            this.setState({\n                loading:true\n            });\n\n            let params = {\n                uid:this.state.uid,\n                email:this.state.email,\n            }\n\n            axios({\n                baseURL:defaultUrl,\n                method:'post',\n                url:'/FindPasswordPage',\n                params,\n            }).then(res=>{\n                console.log(res.data.msg)\n                if(!res.data.code) {\n                    // storage['token']=res.data.data.token;\n                    storage['user']=this.state.nickname;\n                    // storage['identity']=res.data.data.identity;\n                    message.success('发送成功!');\n                    this.setState({\n                        loading:false,\n                    });\n                    window.location.href = \"http://localhost:3000\"\n                }\n                else{\n                    message.error('发送失败请重试！');\n                    this.setState({\n                        loading:false\n                    });\n                }\n            })\n        }\n\n    }\n\n    render() {\n        return(\n            <Layout>\n                <Header className='myhead' style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n                    <TopBar/>\n                </Header>\n                <Content className='mycontent' >\n                    <div className={\"user-register\"} style={{border:\"solid\"}}>\n                        <Form\n                            className=\"register-form\"\n                            style={{width:\"100%\"}}\n                            {...formItemLayout}\n                            name=\"findPassword\"\n                            initialValues={{\n                                residence: ['zhejiang', 'hangzhou', 'xihu'],\n                                prefix: '86',\n                            }}\n                            scrollToFirstError\n                        >\n                            <Form.Item\n                                name=\"uid\"\n                                label=\"身份证号\"\n                                rules={[{ required: true, message: '请输入身份证号码!', whitespace: true }]}\n                            >\n                                <Input onChange={(e)=>this.getUid(e)}/>\n                            </Form.Item>\n\n                            <Form.Item\n                                name=\"email\"\n                                label=\"邮箱\"\n                                rules={[\n                                    {\n                                    type: 'email',\n                                    message: '请输入正确的邮件地址!',\n                                    },\n                                    {\n                                    required: true,\n                                    message: '请输入邮件地址!',\n                                    },\n                                ]}\n                            >\n                                <Input onChange={(e)=>this.getEmail(e)}/>\n                            </Form.Item>\n\n                            <Form.Item {...tailFormItemLayout}>\n                                <Button\n                                    type=\"primary\"\n                                    htmlType=\"submit\"\n                                    onClick={this.findPasswordPost}\n                                    loading={this.state.loading}\n                                >\n                                    发送邮件\n                                </Button>\n                            </Form.Item>\n                        </Form>\n                    </div>\n                </Content>\n            </Layout>\n        )\n    }\n}\n\nexport default FindPasswordPage;\n"]},"metadata":{},"sourceType":"module"}